<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Patient Reported Outcome - T2T</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        #logo {
            margin-top: 20px;
            max-width: 300px;
        }
        #circle_image_container {
            position: relative;
            display: inline-block;
        }
        #circle_image {
            cursor: crosshair;
            max-width: 100%;
        }
        #punteggio_display {
            font-size: 2.5em;
            font-weight: bold;
            color: #004d99;
        }
    </style>
</head>
<body>

    <img src="logo-target.jpg" id="logo" alt="Logo Target">
    <div style="text-align: center; margin-top: 10px; margin-left: 20px;">
        <a href="index.html" style="text-decoration: none; color: #004d99; font-size: 1.2em; font-weight: bold;">
            < Indietro
        </a>
    </div>

    <h1>Immagini che il centro del cerchio rappresenti il pieno raggiungimento del successo con la terapia. Clicchi sul punto del cerchio che meglio descrive quanto sente di aver raggiunto questo obiettivo con la terapia che sta attualmente assumendo. Più vicino al centro significa un maggior successo della terapia. </h1>
    <div id="circle_image_container">
        <img src="target2.01.jpg" id="circle_image">
    </div>

    <p>Punteggio: <span id="punteggio_display"></span></p>

    <hr>
    
    <a href="target-ge.html" style="text-decoration: none; color: #007bff; font-weight: bold; padding: 10px 20px; border: 2px solid #007bff; border-radius: 5px; display: inline-block;">Vai al questionario GE</a>

    <script>
        let scoreValue = 0;

        document.getElementById('circle_image').addEventListener('click', function(event) {
            const img = event.target;
            const rect = img.getBoundingClientRect();
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            const clickX = event.clientX - rect.left;
            const clickY = event.clientY - rect.top;

            const distance = Math.sqrt(Math.pow(clickX - centerX, 2) + Math.pow(clickY - centerY, 2));
            const maxRadius = Math.min(rect.width, rect.height) / 2;

            scoreValue = 10 - (10 * (distance / maxRadius));
            document.getElementById('punteggio_display').innerText = scoreValue.toFixed(2);

            const oldDot = document.getElementById('click-dot');
            if (oldDot) oldDot.remove();
            const dot = document.createElement('div');
            dot.id = 'click-dot';
            dot.style.position = 'absolute';
            dot.style.width = '10px';
            dot.style.height = '10px';
            dot.style.backgroundColor = 'black';
            dot.style.borderRadius = '50%';
            dot.style.transform = 'translate(-50%, -50%)';
            dot.style.top = `${clickY}px`;
            dot.style.left = `${clickX}px`;
            document.getElementById('circle_image_container').appendChild(dot);
        });
    </script>
    <hr>
    <p style="font-size: 0.8em; color: gray;">
        Questo progetto è un'idea del Dott. Andrea Lotesoriere.
        È attualmente in corso uno studio di validazione presso l'Università di Ferrara.
        Tutti i diritti riservati.
    </p>

</body>
</html>
